<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>자바스크립트 : 기본 규칙</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/dracula.css">
    <style>
        body {
            padding-bottom: 600px;
        }
    </style>
</head>
<body>
    <header id="header">
        <h1><a href="../index.html">Javascript</a></h1>
        <nav class="header_nav">
            <ul>
                <li><a href="../javascript01.html">데이터 저장하기</a></li>
                <li><a href="../javascript02.html">데이터 불러오기</a></li>
                <li><a href="../javascript03.html">데이터 실행하기</a></li>
                <li><a href="../javascript04.html">데이터 제어하기</a></li>
            </ul>
            <ul>
                <li><a href="../javascript05.html">문자열 객체</a></li>
                <li><a href="../javascript06.html">배열 객체</a></li>
                <li><a href="../javascript07.html">수학 객체</a></li>
                <li><a href="../javascript08.html">숫자 객체</a></li>
                <li><a href="../javascript09.html">브라우저 객체</a></li>
                <li><a href="../javascript10.html">요소 객체</a></li>
                <li><a href="../javascript11.html">이벤트 객체</a></li>
            </ul>
            <ul class="study">
                <li><a href="basic.html">기본 규칙</a></li>
                <li><a href="operator.html">연산자</a></li>
                <li><a href="for.html">반복문</a></li>
                <li><a href="if.html">조건문</a></li>
                <li><a href="type.html">데이터 타입</a></li>
                <li><a href="function.html">함수</a></li>
                <li><a href="var.html">지역변수/전역변수</a></li>
            </ul>
        </nav>
    </header>
    <!-- //header -->
    <main id="main">
        <div class="document">
            <h2 class="t_tit">슬라이더 효과</h2>
            <p class="t_desc">슬라이드 이펙트 - 이미지 슬라이드(버튼, 닷메뉴, 무한)</p>
            <p class="t_box">좌 우에 버튼을 만든 후 버튼을 누를때마다 다음 사진으로 넘어가는 효과와 아래쪽 닷버튼을 만들어 클릭시 넘어가는 효과입니다 사진은 무한정으로 있는듯한 느낌입니다.</p>
            <hr>
            <h3 class="t_tit2">결과</h3>
            <div class="t_iframe" style="height: 1000px; padding-top: 0;">
                <iframe src="https://younghwan12.github.io/coding3/javascript/effect/sliderEffect06.html"></iframe>
            </div>
            <div class="t_link" style="display: flex;">
                <a href="https://github.com/younghwan12/coding3/blob/main/javascript/effect/sliderEffect06.html" target="_blank">원본 소스 보기</a>
                <a href="https://younghwan12.github.io/coding3/javascript/effect/sliderEffect05.html" target="_blank">원본 사이트 보기</a>
            </div>
            <hr>
            <h3 class="t_tit2">HTML 작성</h3>
            <p class="t_desc2">이전 5번예제와 같습니다.</p>
            <div class="t_result">
                <details>
                    <summary>소스 보기</summary>
                    <div class="t_code">
<pre><code class="language-html">&lt;main id="main"&gt;
    &lt;section id="sliderType01"&gt;
        &lt;div class="slider__wrap"&gt;
            &lt;div class="slider__img"&gt;
                &lt;div class="slider__inner"&gt;
                    &lt;div class="slider"&gt;&lt;img src="../assets/img/effect_bg03.jpg" alt="이미지1"&gt;&lt;/div&gt;
                    &lt;div class="slider"&gt;&lt;img src="../assets/img/effect_bg04.jpg" alt="이미지2"&gt;&lt;/div&gt;
                    &lt;div class="slider"&gt;&lt;img src="../assets/img/effect_bg05.jpg" alt="이미지3"&gt;&lt;/div&gt;
                    &lt;div class="slider"&gt;&lt;img src="../assets/img/effect_bg06.jpg" alt="이미지4"&gt;&lt;/div&gt;
                    &lt;div class="slider"&gt;&lt;img src="../assets/img/effect_bg07.jpg" alt="이미지5"&gt;&lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="slider__btn"&gt;
                &lt;a href="#" class="prev"&gt;prev&lt;/a&gt;   
                &lt;a href="#" class="next"&gt;next&lt;/a&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/section&gt;
&lt;/main&gt;
</code></pre>
                    </div>
                </details>
            </div>
<h3 class="t_tit2">CSS 작성</h3>
<p class="t_desc2">이전예제와 같습니다.</p>
<div class="t_result">
    <details>
        <summary>소스 보기</summary>
        <div class="t_code">
<pre><code class="language-css">@import url('https://webfontworld.github.io/NanumBarunGothic/NanumBarunGothic.css');
.slider__wrap {
    width: 100%;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
}
.slider__img {           /* 이미지 보이는 영역 */
    position: relative;
    width: 800px;
    height: 450px;
    overflow: hidden;
}
.slider__inner {         /* 이미지를 감싸고 있는 부모 : 움직이는 부분 */
    display: flex;
    flex-wrap: wrap;
    width: 4800px;
    height: 450px;
}
.slider {                /* 개별적인 이미지 */
    position: relative;
    width: 800px;
    height: 450px;
}
.slider::before {
    position: absolute;
    left: 5px;
    top: 5px;
    background: rgba(0,0,0,0.4);
    color: #fff;
    padding: 5px 10px;
}
.slider:nth-child(1)::before {content: '이미지1'}
.slider:nth-child(2)::before {content: '이미지2'}
.slider:nth-child(3)::before {content: '이미지3'}
.slider:nth-child(4)::before {content: '이미지4'}
.slider:nth-child(5)::before {content: '이미지5'}
.slider:nth-child(6)::before {content: '이미지1'}

@media (max-width: 800px){
    .slider__img {
        width: 400px;
        height: 225px;
    }
}
.slider__btn a {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 50px;
    height: 50px;
    background: rgba(0, 0, 0, 0.4);
    text-align: center;
    line-height: 50px;
    transition: all 0.2s;
    display: block;
    color: #fff;
}
.slider__btn a:hover {
    background: rgb(225, 255, 0);
    color: #000;
    font-weight: 800;
}
.slider__btn a.prev {
    left: 0;
    border-radius: 50%;
}
.slider__btn a.next {
    right: 0;
    border-radius: 50%;
}
</code></pre>
            </div>
    </details>
</div>            
<h3 class="t_tit2">JS 작성</h3>
<p class="t_desc2">
    닷버튼을 클릭하면 넘어가고, 사진의 인덱스값에 맞춰서 엑티브를 줍니다. 좌우에 버튼을 넣어서 사진의 width값을 구한뒤 그 크기만큼 px값을 옮겨줍니다. 첫번째 이미지와 마지막 이미지를 복사해서
    첫번째 사진 왼쪽에 마지막사진, 마지막사진 오른쪽에 첫번째 사진을 추가해서 그 위치에 도착하면 이미지를 불러와서 무한정 이어져있는듯한 느낌을 주었습니다.
</p>
<div class="t_result">
        <div class="t_code">
<pre><code class="language-js">const sliderWrap = document.querySelector(".slider__wrap");              //전체 영역
const sliderImg = document.querySelector(".slider__img");                //보여지는 영역
const sliderInner = document.querySelector(".slider__inner");            //움직이는 영역 
const slider = document.querySelectorAll(".slider");                     //각각 이미지
const sliderDot = document.querySelector(".slider__dot");                //닷 메뉴
const sliderBtn = document.querySelector(".slider__btn");                //버튼
const sliderBtnPrev = document.querySelector(".slider__btn .prev");      //왼쪽 버튼
const sliderBtnNext = document.querySelector(".slider__btn .next");      //오른쪽 버튼

let currentIndex = 0,                           // 현재 이미지
    sliderLength = slider.length,               // 슬라이더 갯수
    sliderWidth = slider[0].offsetWidth,        // 이미지의 X축 크기
    sliderFirst = slider[0]                     // 첫번째 이미지
    sliderLast = slider[sliderLength - 1],      // 마지막 이미지
    cloneFirst = sliderFirst.cloneNode(true),   // 첫번째 이미지 복사
    cloneLast = sliderLast.cloneNode(true),     // 마지막 이미지 복사
    dotIndex = "";


    sliderInner.appendChild(cloneFirst)
    sliderInner.insertBefore(cloneLast, sliderFirst);

    function init(){
        // 이미지 갯수만큼 닷메뉴

            // slider.forEach(() =&gt; dotIndex += "&lt;a href='#' class='dot'&gt;&lt;/a&gt;");
            // sliderDot.innerHTML = dotIndex;

            for(let i=1; i&lt;=sliderLength; i++){
                dotIndex += "&lt;a href='#' class='dot'&gt;&lt;/a&gt;";
            }
            sliderDot.innerHTML = dotIndex;
            sliderDot.firstElementChild.classList.add("active");
    }
    init();

    function gotoSlider(direction){
        sliderInner.classList.add("transition");
        sliderBtn.classList.add("disable");

        posInitial = sliderInner.offsetLeft;
        // console.log(posInitial)

        if (direction == -1){
            sliderInner.style.left = (posInitial + sliderWidth) + "px";
            currentIndex--;
        } else if (direction == 1){
            sliderInner.style.left = (posInitial - sliderWidth) + "px";
            currentIndex++;
        }
        
    }
    gotoSlider();


    // 순간이동 이미지 슬라이드
    function checkIndex(){
        sliderInner.classList.remove("transition");

        console.log(currentIndex);


        // 마지막 이미지
        if(currentIndex == sliderLength){
            sliderInner.style.left = -(1 * sliderWidth) + "px";
            currentIndex = 0;
        }

        // 처음 이미지
        if(currentIndex == -1){
            sliderInner.style.left = -(sliderLength * sliderWidth) + "px";
            currentIndex = sliderLength -1 ;
        }
    }

    sliderBtnPrev.addEventListener("click", ()=&gt;{
        gotoSlider(-1);
        setTimeout(()=&gt;{
            sliderBtn.classList.remove("disable");
        });

        if(currentIndex &lt; 0){
            let dotActive = document.querySelectorAll(".slider__dot .dot");
            dotActive.forEach(el =&gt; el.classList.remove("active"));
            dotActive[4].classList.add("active");
        } else {
            let dotActive = document.querySelectorAll(".slider__dot .dot");
            dotActive.forEach(el =&gt; el.classList.remove("active"));
            dotActive[currentIndex].classList.add("active");
        }
    });
    sliderBtnNext.addEventListener("click", ()=&gt;{
        gotoSlider(1);
        setTimeout(()=&gt;{
            sliderBtn.classList.remove("disable");
        });

        if(currentIndex &gt; 4){
            let dotActive = document.querySelectorAll(".slider__dot .dot");
            dotActive.forEach(el =&gt; el.classList.remove("active"));
            dotActive[0].classList.add("active");
        } else {
            let dotActive = document.querySelectorAll(".slider__dot .dot");
            dotActive.forEach(el =&gt; el.classList.remove("active"));
            dotActive[currentIndex].classList.add("active");
        }
    });


    // 닷 버튼 클릭
    document.querySelectorAll('.slider__dot a').forEach((a, index) =&gt; {
        a.addEventListener('click', e =&gt; {
            document.querySelectorAll('.slider__dot a').forEach(b =&gt; {
                b.classList.remove('active');
            });
            a.classList.add('active');
            sliderInner.style.left = `${-((index + 1) * sliderWidth)}px`;
            currentIndex = index;
        });
    });
</code></pre>
        </div>
</div>
            
    </main>
    <!-- //main -->
    <footer id="footer">
        <a href="mailto:leesh3432@naver.com">leesh3432@naver.com</a>
    </footer>
    <!-- //footer -->
    <script src="../assets/js/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
    
</body>
</html>